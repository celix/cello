<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Class named_recursive_mutex</title>
<link rel="stylesheet" href="../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="../../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../../boost_interprocess_reference.html#header.boost.interprocess.sync.named_recursive_mutex_hpp" title="Header &lt;boost/interprocess/sync/named_recursive_mutex.hpp&gt;">
<link rel="prev" href="named_mutex.html" title="Class named_mutex">
<link rel="next" href="named_semaphore.html" title="Class named_semaphore">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="named_mutex.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../boost_interprocess_reference.html#header.boost.interprocess.sync.named_recursive_mutex_hpp"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="named_semaphore.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="boost.interprocess.named_recursive_mutex"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class named_recursive_mutex</span></h2>
<p>boost::interprocess::named_recursive_mutex</p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../../boost_interprocess_reference.html#header.boost.interprocess.sync.named_recursive_mutex_hpp" title="Header &lt;boost/interprocess/sync/named_recursive_mutex.hpp&gt;">boost/interprocess/sync/named_recursive_mutex.hpp</a>&gt;

</span>
<span class="keyword">class</span> <a class="link" href="named_recursive_mutex.html" title="Class named_recursive_mutex">named_recursive_mutex</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// types</span>
  <span class="keyword">typedef</span> <span class="emphasis"><em><span class="identifier">unspecified</span></em></span> <a name="boost.interprocess.named_recursive_mutex.construct_func_t"></a><span class="identifier">construct_func_t</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="named_recursive_mutex.html#boost.interprocess.named_recursive_mutexconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a class="link" href="named_recursive_mutex.html#id846718-bb"><span class="identifier">named_recursive_mutex</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="named_recursive_mutex.html#id846721-bb"><span class="identifier">named_recursive_mutex</span></a><span class="special">(</span><span class="keyword">const</span> <a class="link" href="named_recursive_mutex.html" title="Class named_recursive_mutex">named_recursive_mutex</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="named_recursive_mutex.html#id846824-bb"><span class="identifier">named_recursive_mutex</span></a><span class="special">(</span><a class="link" href="create_only_t.html" title="Struct create_only_t">create_only_t</a><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">,</span> 
                        <span class="keyword">const</span> <a class="link" href="permissions.html" title="Class permissions">permissions</a> <span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">permissions</span><span class="special">(</span><span class="special">)</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="named_recursive_mutex.html#id846855-bb"><span class="identifier">named_recursive_mutex</span></a><span class="special">(</span><a class="link" href="open_or_create_t.html" title="Struct open_or_create_t">open_or_create_t</a><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">,</span> 
                        <span class="keyword">const</span> <a class="link" href="permissions.html" title="Class permissions">permissions</a> <span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">permissions</span><span class="special">(</span><span class="special">)</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="named_recursive_mutex.html#id846888-bb"><span class="identifier">named_recursive_mutex</span></a><span class="special">(</span><a class="link" href="open_only_t.html" title="Struct open_only_t">open_only_t</a><span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">)</span><span class="special">;</span>
  named_recursive_mutex&amp; <a class="link" href="named_recursive_mutex.html#id846732-bb"><span class="keyword">operator</span><span class="special">=</span></a><span class="special">(</span><span class="keyword">const</span> <a class="link" href="named_recursive_mutex.html" title="Class named_recursive_mutex">named_recursive_mutex</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="named_recursive_mutex.html#id846908-bb"><span class="special">~</span><span class="identifier">named_recursive_mutex</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="named_recursive_mutex.html#id846694-bb">friend functions</a></span>
  <span class="keyword">friend</span> <span class="keyword">class</span> <a class="link" href="named_recursive_mutex.html#id846697-bb"><span class="identifier">detail</span><span class="special">::</span><span class="identifier">interprocess_tester</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="named_recursive_mutex.html#id846743-bb">public member functions</a></span>
  <span class="keyword">void</span> <a class="link" href="named_recursive_mutex.html#id846746-bb"><span class="identifier">unlock</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="named_recursive_mutex.html#id846758-bb"><span class="identifier">lock</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">bool</span> <a class="link" href="named_recursive_mutex.html#id846772-bb"><span class="identifier">try_lock</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">bool</span> <a class="link" href="named_recursive_mutex.html#id846786-bb"><span class="identifier">timed_lock</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">posix_time</span><span class="special">::</span><span class="identifier">ptime</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="named_recursive_mutex.html#id846806-bb"><span class="identifier">dont_close_on_destruction</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="interprocess_recursive__id844963.html" title="Class interprocess_recursive_mutex">interprocess_recursive_mutex</a> <span class="special">*</span> <a class="link" href="named_recursive_mutex.html#id846814-bb"><span class="identifier">mutex</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="named_recursive_mutex.html#id846920-bb">public static functions</a></span>
  <span class="keyword">static</span> <span class="keyword">bool</span> <a class="link" href="named_recursive_mutex.html#id846924-bb"><span class="identifier">remove</span></a><span class="special">(</span><span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span><span class="special">)</span><span class="special">;</span>
  <span class="emphasis"><em><span class="identifier">unspecified</span></em></span> m_shmem<span class="special">;</span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="id1599660"></a><h2>Description</h2>
<p>A recursive mutex with a global name, so it can be found from different processes. This mutex can't be placed in shared memory, and each process should have it's own named_recursive_mutex. </p>
<div class="refsect2">
<a name="id1599668"></a><h3>
<a name="boost.interprocess.named_recursive_mutexconstruct-copy-destruct"></a><code class="computeroutput">named_recursive_mutex</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><a name="id846718-bb"></a><span class="identifier">named_recursive_mutex</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>@ //Non-copyable </li>
<li class="listitem"><pre class="literallayout"><a name="id846721-bb"></a><span class="identifier">named_recursive_mutex</span><span class="special">(</span><span class="keyword">const</span> <a class="link" href="named_recursive_mutex.html" title="Class named_recursive_mutex">named_recursive_mutex</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span></pre></li>
<li class="listitem">
<pre class="literallayout"><a name="id846824-bb"></a><span class="identifier">named_recursive_mutex</span><span class="special">(</span><a class="link" href="create_only_t.html" title="Struct create_only_t">create_only_t</a> create_only<span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span> name<span class="special">,</span> 
                      <span class="keyword">const</span> <a class="link" href="permissions.html" title="Class permissions">permissions</a> <span class="special">&amp;</span> perm <span class="special">=</span> <span class="identifier">permissions</span><span class="special">(</span><span class="special">)</span><span class="special">)</span><span class="special">;</span></pre>
<p>Creates a global recursive_mutex with a name. If the recursive_mutex can't be created throws interprocess_exception </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="id846855-bb"></a><span class="identifier">named_recursive_mutex</span><span class="special">(</span><a class="link" href="open_or_create_t.html" title="Struct open_or_create_t">open_or_create_t</a> open_or_create<span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span> name<span class="special">,</span> 
                      <span class="keyword">const</span> <a class="link" href="permissions.html" title="Class permissions">permissions</a> <span class="special">&amp;</span> perm <span class="special">=</span> <span class="identifier">permissions</span><span class="special">(</span><span class="special">)</span><span class="special">)</span><span class="special">;</span></pre>
<p>Opens or creates a global recursive_mutex with a name. If the recursive_mutex is created, this call is equivalent to named_recursive_mutex(create_only_t, ... ) If the recursive_mutex is already created, this call is equivalent named_recursive_mutex(open_only_t, ... ) Does not throw </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="id846888-bb"></a><span class="identifier">named_recursive_mutex</span><span class="special">(</span><a class="link" href="open_only_t.html" title="Struct open_only_t">open_only_t</a> open_only<span class="special">,</span> <span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span> name<span class="special">)</span><span class="special">;</span></pre>
<p>Opens a global recursive_mutex with a name if that recursive_mutex is previously created. If it is not previously created this function throws interprocess_exception. </p>
</li>
<li class="listitem"><pre class="literallayout">named_recursive_mutex&amp; <a name="id846732-bb"></a><span class="keyword">operator</span><span class="special">=</span><span class="special">(</span><span class="keyword">const</span> <a class="link" href="named_recursive_mutex.html" title="Class named_recursive_mutex">named_recursive_mutex</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span></pre></li>
<li class="listitem">
<pre class="literallayout"><a name="id846908-bb"></a><span class="special">~</span><span class="identifier">named_recursive_mutex</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>@ <p>Destroys *this and indicates that the calling process is finished using the resource. The destructor function will deallocate any system resources allocated by the system for use by this process for this resource. The resource can still be opened again calling the open constructor overload. To erase the resource from the system use remove(). </p>
</li>
</ol></div>
</div>
<div class="refsect2">
<a name="id1600141"></a><h3>
<a name="id846694-bb"></a><code class="computeroutput">named_recursive_mutex</code> friend functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<pre class="literallayout"><span class="keyword">friend</span> <span class="keyword">class</span> <a name="id846697-bb"></a><span class="identifier">detail</span><span class="special">::</span><span class="identifier">interprocess_tester</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>@ private: </li></ol></div>
</div>
<div class="refsect2">
<a name="id1600210"></a><h3>
<a name="id846743-bb"></a><code class="computeroutput">named_recursive_mutex</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="id846746-bb"></a><span class="identifier">unlock</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Unlocks a previously locked named_recursive_mutex. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="id846758-bb"></a><span class="identifier">lock</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Locks named_recursive_mutex, sleeps when named_recursive_mutex is already locked. Throws interprocess_exception if a severe error is found. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">bool</span> <a name="id846772-bb"></a><span class="identifier">try_lock</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Tries to lock the named_recursive_mutex, returns false when named_recursive_mutex is already locked, returns true when success. Throws interprocess_exception if a severe error is found. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">bool</span> <a name="id846786-bb"></a><span class="identifier">timed_lock</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">boost</span><span class="special">::</span><span class="identifier">posix_time</span><span class="special">::</span><span class="identifier">ptime</span> <span class="special">&amp;</span> abs_time<span class="special">)</span><span class="special">;</span></pre>
<p>Tries to lock the named_recursive_mutex until time abs_time, Returns false when timeout expires, returns true when locks. Throws interprocess_exception if a severe error is found </p>
</li>
<li class="listitem"><pre class="literallayout"><span class="keyword">void</span> <a name="id846806-bb"></a><span class="identifier">dont_close_on_destruction</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre></li>
<li class="listitem"><pre class="literallayout"><a class="link" href="interprocess_recursive__id844963.html" title="Class interprocess_recursive_mutex">interprocess_recursive_mutex</a> <span class="special">*</span> <a name="id846814-bb"></a><span class="identifier">mutex</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre></li>
</ol></div>
</div>
<div class="refsect2">
<a name="id1600503"></a><h3>
<a name="id846920-bb"></a><code class="computeroutput">named_recursive_mutex</code> public static functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
<pre class="literallayout"><span class="keyword">static</span> <span class="keyword">bool</span> <a name="id846924-bb"></a><span class="identifier">remove</span><span class="special">(</span><span class="keyword">const</span> <span class="keyword">char</span> <span class="special">*</span> name<span class="special">)</span><span class="special">;</span></pre>
<p>Erases a named recursive mutex from the system </p>
</li></ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2005 - 2010 Ion Gaztanaga<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="named_mutex.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../boost_interprocess_reference.html#header.boost.interprocess.sync.named_recursive_mutex_hpp"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="named_semaphore.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
