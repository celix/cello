<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>Class template scoped_ptr</title>
<link rel="stylesheet" href="../../../../doc/src/boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="../../index.html" title="The Boost C++ Libraries BoostBook Documentation Subset">
<link rel="up" href="../../boost_interprocess_reference.html#header.boost.interprocess.smart_ptr.scoped_ptr_hpp" title="Header &lt;boost/interprocess/smart_ptr/scoped_ptr.hpp&gt;">
<link rel="prev" href="get_pointer_id839506.html" title="Function template get_pointer">
<link rel="next" href="swap_id839814.html" title="Function template swap">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../../boost.png"></td>
<td align="center"><a href="../../../../index.html">Home</a></td>
<td align="center"><a href="../../../../libs/libraries.htm">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/users/people.html">People</a></td>
<td align="center"><a href="http://www.boost.org/users/faq.html">FAQ</a></td>
<td align="center"><a href="../../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="get_pointer_id839506.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../boost_interprocess_reference.html#header.boost.interprocess.smart_ptr.scoped_ptr_hpp"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="swap_id839814.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
<div class="refentry">
<a name="boost.interprocess.scoped_ptr"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2><span class="refentrytitle">Class template scoped_ptr</span></h2>
<p>boost::interprocess::scoped_ptr</p>
</div>
<h2 xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv-title">Synopsis</h2>
<div xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" class="refsynopsisdiv"><pre class="synopsis"><span class="comment">// In header: &lt;<a class="link" href="../../boost_interprocess_reference.html#header.boost.interprocess.smart_ptr.scoped_ptr_hpp" title="Header &lt;boost/interprocess/smart_ptr/scoped_ptr.hpp&gt;">boost/interprocess/smart_ptr/scoped_ptr.hpp</a>&gt;

</span><span class="keyword">template</span><span class="special">&lt;</span><span class="keyword">typename</span> T<span class="special">,</span> <span class="keyword">typename</span> Deleter<span class="special">&gt;</span> 
<span class="keyword">class</span> <a class="link" href="scoped_ptr.html" title="Class template scoped_ptr">scoped_ptr</a> <span class="special">{</span>
<span class="keyword">public</span><span class="special">:</span>
  <span class="comment">// types</span>
  <span class="keyword">typedef</span> <span class="identifier">T</span>                    <a name="boost.interprocess.scoped_ptr.element_type"></a><span class="identifier">element_type</span><span class="special">;</span>         
  <span class="keyword">typedef</span> <span class="identifier">Deleter</span>              <a name="boost.interprocess.scoped_ptr.deleter_type"></a><span class="identifier">deleter_type</span><span class="special">;</span>         
  <span class="keyword">typedef</span> <span class="emphasis"><em><span class="identifier">unspecified</span></em></span>          <a name="boost.interprocess.scoped_ptr.pointer"></a><span class="identifier">pointer</span><span class="special">;</span>              
  <span class="keyword">typedef</span> <span class="identifier">pointer</span> <span class="identifier">this_type</span><span class="special">::</span><span class="special">*</span> <a name="boost.interprocess.scoped_ptr.unspecified_bool_type"></a><span class="identifier">unspecified_bool_type</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="scoped_ptr.html#boost.interprocess.scoped_ptrconstruct-copy-destruct">construct/copy/destruct</a></span>
  <a class="link" href="scoped_ptr.html#id839782-bb"><span class="identifier">scoped_ptr</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <span class="special">=</span> <span class="number">0</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">Deleter</span> <span class="special">&amp;</span> <span class="special">=</span> <span class="identifier">Deleter</span><span class="special">(</span><span class="special">)</span><span class="special">)</span><span class="special">;</span>
  scoped_ptr&amp; <a class="link" href="scoped_ptr.html#id839605-bb"><span class="keyword">operator</span><span class="special">=</span></a><span class="special">(</span><a class="link" href="scoped_ptr.html" title="Class template scoped_ptr">scoped_ptr</a> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <a class="link" href="scoped_ptr.html#id839807-bb"><span class="special">~</span><span class="identifier">scoped_ptr</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>

  <span class="comment">// <a class="link" href="scoped_ptr.html#id839617-bb">public member functions</a></span>
  <span class="keyword">void</span> <a class="link" href="scoped_ptr.html#id839620-bb"><span class="identifier">reset</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <span class="special">=</span> <span class="number">0</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="scoped_ptr.html#id839641-bb"><span class="identifier">reset</span></a><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">Deleter</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">pointer</span> <a class="link" href="scoped_ptr.html#id839665-bb"><span class="identifier">release</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">reference</span> <a class="link" href="scoped_ptr.html#id839678-bb"><span class="keyword">operator</span><span class="special">*</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">pointer</span> <span class="special">&amp;</span> <a class="link" href="scoped_ptr.html#id839690-bb"><span class="keyword">operator</span><span class="special">-&gt;</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <a class="link" href="scoped_ptr.html#id839702-bb"><span class="keyword">operator</span><span class="special">-&gt;</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="identifier">pointer</span> <span class="special">&amp;</span> <a class="link" href="scoped_ptr.html#id839714-bb"><span class="identifier">get</span></a><span class="special">(</span><span class="special">)</span><span class="special">;</span>
  <span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <a class="link" href="scoped_ptr.html#id839726-bb"><span class="identifier">get</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <a class="link" href="scoped_ptr.html#id839738-bb"><span class="keyword">operator</span> <span class="identifier">unspecified_bool_type</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">bool</span> <a class="link" href="scoped_ptr.html#id839750-bb"><span class="keyword">operator</span><span class="special">!</span></a><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span>
  <span class="keyword">void</span> <a class="link" href="scoped_ptr.html#id839762-bb"><span class="identifier">swap</span></a><span class="special">(</span><a class="link" href="scoped_ptr.html" title="Class template scoped_ptr">scoped_ptr</a> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span>
  <span class="identifier">pointer</span> m_ptr<span class="special">;</span>  <span class="comment">// @ private: </span>
<span class="special">}</span><span class="special">;</span></pre></div>
<div class="refsect1">
<a name="id1551262"></a><h2>Description</h2>
<p>scoped_ptr stores a pointer to a dynamically allocated object. The object pointed to is guaranteed to be deleted, either on destruction of the scoped_ptr, or via an explicit reset. The user can avoid this deletion using release(). scoped_ptr is parameterized on T (the type of the object pointed to) and Deleter (the functor to be executed to delete the internal pointer). The internal pointer will be of the same pointer type as typename Deleter::pointer type (that is, if typename Deleter::pointer is offset_ptr&lt;void&gt;, the internal pointer will be offset_ptr&lt;T&gt;). </p>
<div class="refsect2">
<a name="id1551268"></a><h3>
<a name="boost.interprocess.scoped_ptrconstruct-copy-destruct"></a><code class="computeroutput">scoped_ptr</code> 
        public
       construct/copy/destruct</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><a name="id839782-bb"></a><span class="identifier">scoped_ptr</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> p <span class="special">=</span> <span class="number">0</span><span class="special">,</span> <span class="keyword">const</span> <span class="identifier">Deleter</span> <span class="special">&amp;</span> d <span class="special">=</span> <span class="identifier">Deleter</span><span class="special">(</span><span class="special">)</span><span class="special">)</span><span class="special">;</span></pre>Provides the type of the internal stored pointer. <p>Constructs a scoped_ptr, storing a copy of p(which can be 0) and d. Does not throw. </p>
</li>
<li class="listitem">
<pre class="literallayout">scoped_ptr&amp; <a name="id839605-bb"></a><span class="keyword">operator</span><span class="special">=</span><span class="special">(</span><a class="link" href="scoped_ptr.html" title="Class template scoped_ptr">scoped_ptr</a> <span class="keyword">const</span> <span class="special">&amp;</span><span class="special">)</span><span class="special">;</span></pre>@ scoped_ptr(scoped_ptr const &amp;); </li>
<li class="listitem">
<pre class="literallayout"><a name="id839807-bb"></a><span class="special">~</span><span class="identifier">scoped_ptr</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>If the stored pointer is not 0, destroys the object pointed to by the stored pointer. calling the operator() of the stored deleter. Never throws </p>
</li>
</ol></div>
</div>
<div class="refsect2">
<a name="id1551483"></a><h3>
<a name="id839617-bb"></a><code class="computeroutput">scoped_ptr</code> public member functions</h3>
<div class="orderedlist"><ol class="orderedlist" type="1">
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="id839620-bb"></a><span class="identifier">reset</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> p <span class="special">=</span> <span class="number">0</span><span class="special">)</span><span class="special">;</span></pre>
<p>Deletes the object pointed to by the stored pointer and then stores a copy of p. Never throws </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="id839641-bb"></a><span class="identifier">reset</span><span class="special">(</span><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> p<span class="special">,</span> <span class="keyword">const</span> <span class="identifier">Deleter</span> <span class="special">&amp;</span> d<span class="special">)</span><span class="special">;</span></pre>
<p>Deletes the object pointed to by the stored pointer and then stores a copy of p and a copy of d. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">pointer</span> <a name="id839665-bb"></a><span class="identifier">release</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Assigns internal pointer as 0 and returns previous pointer. This will avoid deletion on destructor </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">reference</span> <a name="id839678-bb"></a><span class="keyword">operator</span><span class="special">*</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Returns a reference to the object pointed to by the stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">pointer</span> <span class="special">&amp;</span> <a name="id839690-bb"></a><span class="keyword">operator</span><span class="special">-&gt;</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Returns the internal stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <a name="id839702-bb"></a><span class="keyword">operator</span><span class="special">-&gt;</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Returns the internal stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="identifier">pointer</span> <span class="special">&amp;</span> <a name="id839714-bb"></a><span class="identifier">get</span><span class="special">(</span><span class="special">)</span><span class="special">;</span></pre>
<p>Returns the stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">const</span> <span class="identifier">pointer</span> <span class="special">&amp;</span> <a name="id839726-bb"></a><span class="identifier">get</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Returns the stored pointer. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><a name="id839738-bb"></a><span class="keyword">operator</span> <span class="identifier">unspecified_bool_type</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Conversion to bool Never throws </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">bool</span> <a name="id839750-bb"></a><span class="keyword">operator</span><span class="special">!</span><span class="special">(</span><span class="special">)</span> <span class="keyword">const</span><span class="special">;</span></pre>
<p>Returns true if the stored pointer is 0. Never throws. </p>
</li>
<li class="listitem">
<pre class="literallayout"><span class="keyword">void</span> <a name="id839762-bb"></a><span class="identifier">swap</span><span class="special">(</span><a class="link" href="scoped_ptr.html" title="Class template scoped_ptr">scoped_ptr</a> <span class="special">&amp;</span> b<span class="special">)</span><span class="special">;</span></pre>
<p>Exchanges the internal pointer and deleter with other scoped_ptr Never throws. </p>
</li>
</ol></div>
</div>
</div>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright &#169; 2005 - 2010 Ion Gaztanaga<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">http://www.boost.org/LICENSE_1_0.txt</a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="get_pointer_id839506.html"><img src="../../../../doc/src/images/prev.png" alt="Prev"></a><a accesskey="u" href="../../boost_interprocess_reference.html#header.boost.interprocess.smart_ptr.scoped_ptr_hpp"><img src="../../../../doc/src/images/up.png" alt="Up"></a><a accesskey="h" href="../../index.html"><img src="../../../../doc/src/images/home.png" alt="Home"></a><a accesskey="n" href="swap_id839814.html"><img src="../../../../doc/src/images/next.png" alt="Next"></a>
</div>
</body>
</html>
